import{_ as x,u as y,r as o,o as g,c as U,a as e,w as n,v as u,b as w,p as I,d as P}from"./index-4415d86d.js";const a=d=>(I("data-v-57d44e79"),d=d(),P(),d),V={class:"container"},N=["onSubmit"],q=a(()=>e("h2",null,"Edit your profile",-1)),C={class:"input-sec"},j=a(()=>e("span",null,"Full Name:",-1)),E={class:"input-sec"},J=a(()=>e("span",null,"E-mail:",-1)),O={class:"input-sec"},B=["disabled"],k=["onSubmit"],D=a(()=>e("h2",null,"Edit your password",-1)),F={class:"input-sec"},M=a(()=>e("span",null,"Current password:",-1)),$={class:"input-sec"},A=a(()=>e("span",null,"New password:",-1)),T={class:"input-sec"},z=a(()=>e("span",null,"Confirm password:",-1)),G={class:"input-sec"},H=["disabled"],K={__name:"ProfileView",setup(d){const h=y(),v=o(JSON.parse(localStorage.user).fullname),m=o(JSON.parse(localStorage.user).email),i=o(""),l=o(""),r=o(""),p=o(!1),c=o(!1);async function S(){axios.post("http://localhost:4000/api/account_update",{id:JSON.parse(localStorage.user).id,user:{email:m.value,fullname:v.value},jwt:localStorage.jwt}).then(_=>{h.setUser(_.data.data),p.value=!1})}function b(){axios.post("http://localhost:4000/api/pass_update",{id:JSON.parse(localStorage.user).id,user:{password:l.value},jwt:localStorage.jwt}).then(_=>{h.setUser(_.data.data),c.value=!1,l.value="",i.value="",r.value=""})}function f(){r.value.length>0&&i.value.length>0&&l.value.length>0?c.value=!0:c.value=!1}return(_,s)=>(g(),U("div",V,[e("form",{onSubmit:w(S,["prevent"])},[q,e("div",C,[j,n(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>v.value=t),onInput:s[1]||(s[1]=t=>p.value=!0),placeholder:"Full name",required:""},null,544),[[u,v.value]])]),e("div",E,[J,n(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),onChange:s[3]||(s[3]=t=>p.value=!0),placeholder:"email",required:""},null,544),[[u,m.value]])]),e("div",O,[e("button",{type:"submit",disabled:!p.value},"Save",8,B)])],40,N),e("form",{onSubmit:w(b,["prevent"])},[D,e("div",F,[M,n(e("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=t=>i.value=t),onInput:f,placeholder:"Current password",required:""},null,544),[[u,i.value]])]),e("div",$,[A,n(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=t=>l.value=t),onInput:f,placeholder:"New password",required:""},null,544),[[u,l.value]])]),e("div",T,[z,n(e("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=t=>r.value=t),onInput:f,placeholder:"Confirm password",required:""},null,544),[[u,r.value]])]),e("div",G,[e("button",{type:"submit",disabled:!c.value},"Update password",8,H)])],40,k)]))}},Q=x(K,[["__scopeId","data-v-57d44e79"]]);export{Q as default};
